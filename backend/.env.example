# Single source of truth for local/devcontainer config.
# Copy to .env; credentials go in .env.local (see .env.local.example).

# PostgreSQL (docker-compose sidecar)
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=notify

# Application
NODE_ENV=development
PORT=3000

# Database (devcontainer: db host; local: localhost)
DATABASE_URL=postgresql://postgres:postgres@db:5432/notify

# CHES (Common Hosted Email Service) â€” credentials in .env.local
CHES_BASE_URL=https://ches-dev.api.gov.bc.ca/api/v1
CHES_TOKEN_URL=https://dev.loginproxy.gov.bc.ca/auth/realms/comsvcauth/protocol/openid-connect/token
# CHES_CLIENT_ID=
# CHES_CLIENT_SECRET=

# System defaults (used when sender store or provider override not set)
DEFAULT_EMAIL_FROM=noreply@localhost
DEFAULT_SMS_FROM_NUMBER=+15551234567
DEFAULT_TEMPLATE_SUBJECT=Notification

# Nodemailer (SMTP - e.g. Mailpit for local dev)
NODEMAILER_HOST=localhost
NODEMAILER_PORT=1025
NODEMAILER_SECURE=false
NODEMAILER_USER=
NODEMAILER_PASS=
NODEMAILER_FROM=noreply@localhost

# CHES provider override (falls back to DEFAULT_EMAIL_FROM when unset)
CHES_FROM=

# GC Notify adapter selection (nodemailer, ches, twilio). Legacy: EMAIL_TRANSPORT/SMS_TRANSPORT still work.
EMAIL_ADAPTER=nodemailer
SMS_ADAPTER=twilio

# GC Notify default template engine (jinja2, handlebars, ejs, mustache, nunjucks)
GC_NOTIFY_DEFAULT_TEMPLATE_ENGINE=jinja2

# GC Notify external (passthrough mode) - forward to real api.notification.canada.ca
GC_NOTIFY_BASE_URL=https://api.notification.canada.ca
GC_NOTIFY_EXTERNAL_ENABLED=false

# Twilio (SMS) - TWILIO_FROM_NUMBER falls back to DEFAULT_SMS_FROM_NUMBER when unset
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_FROM_NUMBER=

# API Authentication
API_KEY=dev-api-key-change-in-production
